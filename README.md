
# akismet
    import "github.com/DramaFever/akismet"




## Constants
``` go
const (
    AkismetAPIDomain = "rest.akismet.com" // root domain for requests
    Version          = "0.1"              // version of this library
)
```

## Variables
``` go
var (
    InvalidMethodError = errors.New("Invalid method; method must be GET, POST, PUT, or DELETE")
    EmptyUAError       = errors.New("User Agent must be set.")
    UnknownError       = errors.New("Something weird happened, not 100% sure what.")
)
```


## type AkismetError
``` go
type AkismetError string // returned for errors from akismet headers

```










### func (AkismetError) Error
``` go
func (a AkismetError) Error() string
```


## type Comment
``` go
type Comment struct {
    UserIP      string // (required) IP address of the comment submitter.
    UserAgent   string // User agent string of the web browser submitting the comment
    Referrer    string // The content of the HTTP_REFERER header should be sent here.
    Permalink   string
    CommentType string // May be blank, comment, trackback, pingback, or a made up value like "registration".
    // see http://blog.akismet.com/2012/06/19/pro-tip-tell-us-your-comment_type/
    CommentAuthor      string    // Name submitted with the comment
    CommentAuthorEmail string    // Email address submitted with the comment
    CommentAuthorURL   string    // URL submitted with comment
    CommentContent     string    // The content that was submitted.
    CommentDate        time.Time // The UTC timestamp of the creation of the comment, in ISO 8601 format.
    // May be omitted if the comment is sent to the API at the time it is created.
    CommentPostModified time.Time // The UTC timestamp of the publication time for the post, page or thread on which the comment was posted.
    SiteLang            string    // Indicates the language(s) in use on the blog or site, in ISO 639-1 format, comma-separated. A site with articles in English and French might use "en, fr_ca".
    SiteCharset         string    // The character encoding for the form values included in comment_* parameters, such as "UTF-8" or "ISO-8859-1".
}
```
Comment holds information about and represents a comment that is being checked against Akismet.











### func (Comment) Values
``` go
func (c Comment) Values() url.Values
```
Values returns a url.Values from a Comment, allowing the Comment to be easily URL-encoded.



## type SpamChecker
``` go
type SpamChecker struct {
    Key                string
    ApplicationName    string
    ApplicationVersion string
}
```
SpamChecker stores the values needed for every request, rather than passing them around all the time.
ApplicationName is the name of the application using this library; ApplicationVersion is the version
of the application using this library. Key is your Akismet API key.











### func (SpamChecker) CheckComment
``` go
func (s SpamChecker) CheckComment(site string, c Comment) (bool, error)
```
CheckComment uses the Akismet API to check if a comment is spam or not. If it returns true,
the comment is spam. If it returns false, the comment is not. If it returns an error, it may
be of the AkismetError type, which will hold more information.



### func (SpamChecker) GetEndpoint
``` go
func (s SpamChecker) GetEndpoint(path string) string
```
GetEndpoint returns an API endpoint using the SpamChecker's key.



### func (SpamChecker) GetUA
``` go
func (s SpamChecker) GetUA() string
```
GetUA returns an appropriate User Agent using the SpamChecker's values.



### func (SpamChecker) ReportHam
``` go
func (s SpamChecker) ReportHam(site string, c Comment) error
```
ReportHam reports a comment that CheckComment decided was spam as not spam.



### func (SpamChecker) ReportSpam
``` go
func (s SpamChecker) ReportSpam(site string, c Comment) error
```
ReportSpam reports a comment that CheckComment decided was not spam as spam.



### func (SpamChecker) VerifyKey
``` go
func (s SpamChecker) VerifyKey(key, site string) (bool, string)
```
VerifyKey verifies that the provided key is valid. Site is the main page of the site that is
making the call, including the protocol. VerifyKey returns true if the key is valid, false if
it is invalid. If there is an error, it is returned in the string.









- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)